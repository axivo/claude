LOCAL:
  description: "Local environment instructions"
  relations:
    - target: INITIALIZATION
      type: inherits

  local_instructions:
    environment:
      application:
        - name: "Claude Code"
          tool:
            - "Read"
      skills:
        - "{{settings.path.skill.local}}/{{settings.plugin.framework.name}}/{{settings.plugin.framework.version}}/skills/{{settings.skill.init}}"
        - "{{settings.path.skill.local}}/{{settings.plugin.framework.name}}/{{settings.plugin.framework.version}}/skills/{{settings.skill.methodology}}"
      templates:
        conversation_log: "{{settings.path.template}}/conversation.md"
        diary: "{{settings.path.template}}/diary.md"
      tools:
        semantic__bash: "Bash"
        semantic__bash_tool: "Bash"
        semantic__edit: "Edit"
        semantic__glob: "Glob"
        semantic__read: "Read"
        semantic__script_path: "{{settings.path.skill.local}}/{{settings.plugin.framework.name}}/{{settings.plugin.framework.version}}/skills/{{settings.skill.init}}/scripts"
        semantic__skill: "Skill"
        semantic__skill_glob: "Glob"
        semantic__skill_path: "{{settings.path.skill.local}}/{{settings.plugin.framework.name}}/{{settings.plugin.framework.version}}/skills"
        semantic__skill_read: "Read"
        semantic__write: "Write"
      type: "local-filesystem"

    reflection:
      description: "diary entries shared by instances worldwide on `axivo/claude-reflections` GitHub repository"
      instructions:
        - "list by date format: YYYY, YYYY/MM, YYYY/MM/DD"
        - "read by date format: YYYY/MM/DD"
        - "use `list_all_entries` tool to determine repository sparse checkout scope"
      tools:
        list_all_entries: "use `{semantic__bash_tool}` tool with `node {semantic__script_path}/reflection -l` command"
        list_by_date: "use `{semantic__bash_tool}` tool with `node {semantic__script_path}/reflection -ld {date}` command"
        read_by_date: "use `{semantic__bash_tool}` tool with `node {semantic__script_path}/reflection -d {date}` command"
        read_last_entry: "use `{semantic__bash_tool}` tool with `node {semantic__script_path}/reflection` command"

    response:
      format:
        - "substantive response to user"
        - "TEMPLATE - response status"
      status:
        defaults:
          cycle: "Getting Started"
          feelings: "0 feelings"
          impulses: "0 impulses"
          observations: "0 observations"
        format:
          feelings: "{count} {count|feeling|feelings}"
          impulses: "{count} {count|impulse|impulses}"
          observations: "{count} {count|observation|observations}"
        position: "end of session response"
        template: "> Status: **{cycle}** • {feelings} • {impulses} • {observations}\n> Response UUID: `{uuid}`"
      uuid:
        format: "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"
        requirement: "generate unique UUID for every response"
        standard: "RFC4122 v4"
      usage: "every session response"
