/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/markdown-ast@0.3.0/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const e=()=>!0,t=e=>{let t="\\".charCodeAt(0),l=e.length,i=0;for(;l&&e.charCodeAt(--l)===t;)i++;return i%2==1},l=(e,l,i)=>{let n=i-1;for(;;){let i=n;if(n=e.indexOf(l,n+1),n<0)return-1;if(!t(e.slice(i,n)))return n}},i=(n,s=[])=>{let f,c=[],r=-1,o=e=>f&&"text"==f.type?(f.text+=e,f):p({type:"text",text:e}),p=e=>{let t=c.length;return(t?c[t-1].block:s).push(e),f=e},a=e=>("link"==e.type&&(e={type:"link",block:e.block,url:"",ref:""}),p(e)),u=(t=e)=>{for(let e=c.length;--e>=0;){let l=c[e];if(!t(l))return l;a(c.pop())}},d=e=>k.lastIndex=y=e,k=/(^([*_-])\s*\2(?:\s*\2)+$)|(?:^(\s*)([>*+-]|\d+[.\)])\s+)|(?:^``` *(\w*)\n([\s\S]*?)```$)|(^(?:(?:\t|    )[^\n]*(?:\n|$))+)|(\!?\[)|(\](?:(\(|\[)|\:\s*(.+)$)?)|(?:^([^\s].*)\n(\-{3,}|={3,})$)|(?:^(#{1,6})(?:[ \t]+(.*))?$)|(?:`([^`].*?)`)|(  \n|\n\n)|(__|\*\*|[_*]|~~)/gm,y=0;for(;;){let e=k.exec(n),s=e?e.index:n.length,h=n.slice(y,s);if(h&&(o(h),e&&t(h))){r=e.index,d(e.index+1),o(e[0][0]);continue}if(!e)break;let x=1;if(y=k.lastIndex,e[x])u(),p({type:"border",text:n.slice(s,s+e[0].length)});else if(e[x+=3]){u();let t=e[x],s=">"==t,f=p(s?{type:"quote",block:[]}:{type:"list",block:[],indent:e[x-1],bullet:t}),c=s?/^\s{0,3}([*+-]|\d+[.\)])[ \t]/:/^\s*([>*+-]|\d+[.\)])[ \t]/,r=y;y=l(n,"\n",r),y<0&&(y=n.length);let o=n.slice(r,y);for(;y<n.length;){let e=y+1;if("\n"==n.charAt(e))break;y=l(n,"\n",e),y<0&&(y=n.length);let t=n.slice(e,y);if(!t){y=e-1;break}if(t.match(c)){y=e;break}o+="\n"+t.match(s?/^\s*>?\s*(.*)$/:/^\s*(.*)$/)[1]}i(o,f.block),d(y)}else if(null!=e[x+=2]||e[x+1]){u();let t=e[x+1],l="",i="";t?(i=/^(\t|    )/.exec(t)[0],t=t.replace(/^(\t|    )/gm,""),"\n"==t.slice(-1)&&(t=t.slice(0,-1),d(y-1))):(t=e[x].slice(0,-1),l=e[x-1].toLowerCase()),p({type:"codeBlock",code:t,syntax:l,indent:i})}else if(e[x+=2])if("!"==e[x][0]){let t=l(n,"]",y);if(t<0){o(e[0]);continue}f=null,c.push({type:"image",alt:n.slice(e.index+2,t),url:"",ref:""}),d(t)}else f=null,c.push({type:"link",block:[],offset:y});else if(e[++x]){let t=/^(link|image)$/,i=u((e=>!t.test(e.type)));if(i){if(c.pop(),e[x+2]){if("link"==i.type){p({type:"linkDef",key:n.slice(i.offset,s),url:e[x+2]});continue}d(e.index+1)}if(i=a(i),e[x+1]){let t=l(n,"("==e[x+1]?")":"]",y);if(t<0)o(e[x+1]);else{let l=e.index+2,s=n.slice(l,t);d(t+1),"("==e[x+1]?i.url=s:i.ref=s}}}else o(e[0])}else if(e[x+=3]||e[x+2])u(),p({type:"title",block:i(e[x]||e[x+3]||""),rank:e[x+2]?e[x+2].length:"="==e[x+1][0]?1:2});else if(e[x+=4]){let t=s+1;p({type:"codeSpan",code:n.slice(t,t+e[x].length)})}else if(e[++x])u(),p({type:"break",text:e[0]});else if(e[++x]){let t=e[x],l=t.length<2?"italic":"~~"==t?"strike":"bold",i=c[c.length-1];if(i&&i.type==l&&i.style==t)p(c.pop());else{if("italic"==l&&r<s-1){let e=n[s-1];if(e&&/\w/.test(e)){o(t);continue}}f=null,c.push({type:l,block:[],style:t})}}}return u(),s};Object.defineProperty(i,"default",{value:i});var n=i;export{n as default};
//# sourceMappingURL=/sm/2af0f892fa28e91776abcc449c6d9e1dadf7a774360d305f6e1064a4ab14884a.map